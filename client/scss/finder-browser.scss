@import "colors";
@import "menubar";
@import "progress";

finder-file-select {
	display: flex;
	gap: 1rem;

	.folder-structure {
		flex-shrink: 0;

		ul {
			padding-left: 0;
			list-style: none;

			ul ul {
				padding-left: 1.5rem;
			}
		}

		li {
			i {
				display: inline-block;
				cursor: pointer;
				width: 1.5rem;
				color: #808080;
				&:hover {
					color: inherit;
				}
			}

			svg {
				height: 20px;
				vertical-align: text-bottom;
				margin-right: 0.5em;
			}

			span[role="button"] {
				cursor: pointer;
				&:hover {
					text-decoration: underline;
					text-decoration-style: dashed;
					text-decoration-color: #808080;
				}
			}
		}
	}

	.file-browser {
		flex-grow: 1;
		display: flex;
		flex-direction: column;

		nav[role="menubar"] {
			flex-shrink: 0;
			padding: 0 1rem 0.5rem;
			border-bottom: 1px solid #808080;

			@include menubar;
		}

		ul.files-list {
			list-style: none;
			display: flex;
			padding: 10px;
			flex-wrap: wrap;
			flex-direction: row;
			align-content: flex-start;
			justify-content: flex-start;
			gap: 10px;

			li:not(.status) {
			min-height: 150px;
			width: 125px;

			.figure {
				width: 100%;
				height: 100%;
				margin: 0;
				cursor: pointer;

				div:has(> .figure-labels) {
					position: relative;
				}

				.figure-labels {
					position: absolute;
					line-height: 0;
					text-align: right;
					overflow: hidden;
					inset: 4px;

					span {
						width: 10px;
						height: 10px;
						display: inline-block;
						border-radius: 50%;
						margin-left: -4px;
					}

				}

				img, video {
					width: 100%;
					border-radius: 0.25rem;
				}

				img:not([src$=".svg"]), video {
						box-shadow: 0 0 0.5rem #808080;
				}

				figcaption {
					text-align: center;
					line-height: 1.5rem;
					font-size: 0.8em;
					white-space: nowrap;
					overflow: hidden;
					text-overflow: ellipsis;
				}
			}
		}
		}
	}

	.status {
		font-size: 18px;
		font-weight: bold;
		line-height: 50px;
		color: #808080;
		padding-left: 2em;
		width: auto;
	}

	.file-uploader {
		width: 100%;
		position: relative;

		.progress-overlay {
			@include progress-overlay;
		}

		input[type=file] {
			width: 0 !important;
			height: 0 !important;
			position: absolute;
			bottom: 0;
			padding: 0;
		}
	}
}
